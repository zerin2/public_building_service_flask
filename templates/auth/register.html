<!DOCTYPE html>
<html>

{% include 'auth/includes/auth_head.html' %}

<body class="bg-gradient-primary" style="color: var(--bs-pink);background: #d1d3e2;margin-top: 69px;">
<div class="container" style="color: var(--bs-indigo);">
    <div class="card shadow-lg o-hidden border-0 my-5">
        <div class="card-body p-0">
            <div class="row">
                <div class="col-lg-5 d-none d-lg-flex">

                    {#тут картинка#}

                    <div class="flex-grow-1 bg-register-image"
                         style="background: url('{{ url_for('static',
                         filename='assets/img/registrate_building.jpg') }}');
                                 background-size: cover;">
                    </div>

                </div>
                <div class="col-lg-7">
                    <div class="p-5">
                        <div class="text-center">
                            <h4 class="text-dark mb-4">Регистрация</h4>
                        </div>

                        <form method="POST" class="user"
                              action="{{ url_for('auth.input_personal_data') }}"
                              onsubmit="return validateCheckbox()">

                            <input type="hidden"
                                   name="csrf_token"
                                   value="{{ csrf_token }}">

                            <div class="row mb-3">
                                <div class="col-sm-6 mb-3 mb-sm-0">
                                    <input class="form-control form-control-user"
                                           type="text" id="exampleFirstName-1"
                                           placeholder="Имя"
                                           name="name">
                                </div>

                                {% if error_name %}
                                    <div class="alert alert-danger visible"
                                         role="alert"
                                         style="height: 55px;padding: 5px;text-align: center;">
                                            <span>
                                                <strong>{{ error_name }}</strong>
                                            </span>
                                    </div>
                                {% endif %}

                                <div class="col-sm-6">
                                    <input class="form-control form-control-user"
                                           type="text"
                                           id="exampleFirstName-2"
                                           placeholder="Фамилия"
                                           name="surname">
                                </div>

                                {% if error_surname %}
                                    <div class="alert alert-danger visible"
                                         role="alert"
                                         style="height: 55px;padding: 5px;text-align: center;">
                                            <span>
                                                <strong>{{ error_surname }}</strong>
                                            </span>
                                    </div>
                                {% endif %}


                            </div>
                            <div class="mb-3">
                                <input class="form-control form-control-user"
                                       type="email"
                                       id="exampleInputEmail"
                                       aria-describedby="emailHelp"
                                       placeholder="Email"
                                       name="email">
                            </div>


                            {% if error_email %}
                                <div class="alert alert-danger visible"
                                     role="alert"
                                     style="height: 55px;padding: 5px;text-align: center;">
                                            <span>
                                                <strong>{{ error_email }}</strong>
                                            </span>
                                </div>
                            {% endif %}

                            <div class="row mb-3">
                                <div class="col-sm-6 mb-3 mb-sm-0">
                                    <input class="form-control form-control-user"
                                           type="password"
                                           id="examplePasswordInput"
                                           placeholder="Пароль (от 8 до 64 символов)"
                                           name="password">
                                </div>

                                {% if error_password %}
                                    <div class="alert alert-danger visible"
                                         role="alert"
                                         style="height: 55px;padding: 5px;text-align: center;">
                                            <span>
                                                <strong>{{ error_password }}</strong>
                                            </span>
                                    </div>
                                {% endif %}

                                <div class="col-sm-6">
                                    <input class="form-control form-control-user"
                                           type="password"
                                           id="exampleRepeatPasswordInput"
                                           placeholder="Повторите пароль"
                                           name="password_repeat">
                                </div>

                                {% if error_password_repeat %}
                                    <div class="alert alert-danger visible"
                                         role="alert"
                                         style="height: 55px;padding: 5px;text-align: center;">
                                            <span>
                                                <strong>{{ error_password_repeat }}</strong>
                                            </span>
                                    </div>
                                {% endif %}

                            </div>
                            <h6 class="text-center text-dark mb-4">
                                Выберите департамент:
                            </h6>

                            <select class="form-select"
                                    name="department_id"
                                    style="margin-top: 27px;margin-bottom: 21px;">
                                <optgroup label="Выберите отдел">
                                    <option selected>--</option>

                                    {% for department in departments %}
                                        <option value="{{ department.id }}"> {{ department.name }} </option>
                                    {% endfor %}

                                </optgroup>
                            </select>

                            {% if error_department_id %}
                                <div class="alert alert-danger visible"
                                     role="alert"
                                     style="height: 55px;padding: 5px;text-align: center;">
                                            <span>
                                                <strong>{{ error_department_id }}</strong>
                                            </span>
                                </div>
                            {% endif %}

                            <h6 class="text-center text-dark mb-4">
                                Введите код доступа:
                            </h6>
                            <input class="form-control"
                                   type="password"
                                   name="access_code">

                            {% if error_access_code %}
                                <div class="alert alert-danger visible"
                                     role="alert"
                                     style="height: 55px; padding: 5px;
                                     text-align: center; margin-top: 20px;
                                     margin-bottom: 20px;">
                                    <span>
                                        <strong>{{ error_access_code }}</strong>
                                    </span>
                                </div>
                            {% endif %}

                            <div class="form-check"
                                 style="margin-top: 13px;">
                                <input class="form-check-input"
                                       type="checkbox"
                                       id="formCheck-1"
                                       name="user_checkbox">

                                <label class="form-check-label"
                                       for="formCheck-1">
                                    <span style="color: rgb(54, 54, 54);">
                                Я даю согласие на обработку персональных данных
                                    </span>
                                    <br>
                                </label>

                            </div>
                            <button class="btn btn-primary d-block btn-user w-100"
                                    type="submit"
                                    style="margin-top: 24px;">
                                Подтвердить
                            </button>
                            <hr>
                        </form>

                        <div class="text-center">
                            <a class="small"
                               href="{{ url_for('auth.password_recovery') }}">
                                Забыли пароль?
                            </a>
                        </div>
                        <div class="text-center">
                            <a class="small" href="{{ url_for('auth.login') }}">
                                <br>
                                <span style="color: var(--bs-link-color);">
                            Есть аккаунт? Авторизуйтесь!
                        </span>
                                <br>
                                <br>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% include 'auth/includes/auth_scripts.html' %}
<script src="{{ url_for('static', filename='js/validateCheckbox.js') }}"></script>

</body>

</html>